---
layout: post
tags: NLP
---

信息抽取很常见的一种场景是将句子中所表达的观点提炼出来，而观点的组成结构一般是"XX是XX", "XX怎么样"。这些可以抽象成统一的结构：主语+谓语。常见的谓语构成有以下几种：

- 动词+表语。如：（编程）是很简单的
- 及物动词+宾语。如：（我）喜欢你
- 不及物动词。如：（我）受伤了
- 形容词。如：（天空）很漂亮
- 名词。如：（今天）晴天

要从来自自然场景下发生的语料中提取出形式如上的观点，需要这些步骤：

1. 将连续的语料切分成一个或多个独立的简单从句（即由主语短语、谓语短语或两者组合构成）
2. 识别句子中所有需要的主语/主体
3. 找到与主语互为主谓依赖关系的成分，判断是属于及物动词、不及物动词、形容词还是名词
4. 依据3的归类结果，决定是完成提取返回结果还是继续找对应的表语或宾语

以上步骤涉及到的具体技术主要是句法分析的范畴，如识别简单从句可以利用结构分析，将句法结构树中以IP为根结点的子树都提取出来；又如要找到完整的谓语需要用到依存分析，因为一个句子中动词或形容词、名词可以有多个，但真正作为谓语动词修饰主语的只有一个，这和依存分析假设句子的核心是唯一的谓语也是一致的。

下面以"用了几天，突然扬声器、铃声、音乐视频都没声音了"作为例子。这是在京东中随便找的一条评论。

句法结构树如下：

```
(ROOT
	(IP
		(IP (VP (VV 用) (AS 了) (QP (CD 几) (CLP (M 天))))) (PU ，)
		(IP (ADVP (AD 突然)) (NP (NP (NN 扬声器) (PU 、) (NN 铃声) (PU 、) (NN 音乐)) (NP (NN 视频))) (VP (ADVP (AD 都)) (VP (VV 没声音) (AS 了))))
	)
)
```

等价于下图：
![句法结构树](https://raw.githubusercontent.com/nomadcube/nomadcube.github.io/master/%E5%8F%A5%E6%B3%95%E7%BB%93%E6%9E%84%E6%A0%91.png)

可以看出其中包含两个简单从句(以IP为根节点的子树)：用了几天; 突然扬声器、铃声、音乐视频都没声音了。

第一个简单分句"用了几天"的依存关系：

```
位置  词条  词条  词性  更详细的词性  依赖词条的位置 与依赖词条的关系
1  用  用  p  p  0  核心关系
2  了  了  u  ule  1  右附加关系
3  几  几  d  d  4  定中关系
4  天  天  q  qt  1  动补结构
```

第二个简单分句"突然扬声器、铃声、音乐视频都没声音了"的依存关系：

```
位置  词条  词条  词性  更详细的词性  依赖词条的位置 与依赖词条的关系
1  突然  突然  a  ad  9  状中结构
2  扬声器  扬声器  n  n  9  主谓关系
3  、  、  wp  w  2  标点符号
4  铃声  铃声  n  n  2  并列关系
5  、  、  wp  w  7  标点符号
6  音乐  音乐  n  n  7  定中关系
7  视频  视频  n  n  4  并列关系
8  都  都  d  d  9  状中结构
9  没声音  没声音  v  v  0  核心关系
10  了  了  u  ule  9  右附加关系
```

可以看出第一个分句只有谓语短语，第二个分句由主语短语+谓语短语构成，"扬声器"、"铃声"、"音乐视频"三者并列作为主语，"没声音"是这3个并列主语所依赖的谓语动词，同时由于"没声音"是不及物动词，因此对应上文提到的谓语构成的第3种类型。于是观点直接由主语+谓语动词构成，即"扬声器、铃声铃声、音乐视频音乐视频没声音"就是我们需要提取的观点。

从中也可以看出分析过程中和人的认知有偏差的地方：程序将"音乐视频"作为一个定语短语，认为"音乐"是用来修饰"视频"的定语，而在人的认知中，"音乐"和"视频"应该是并列的两个名词主语。这也是现有的句法分析方法处理非规范语言的不完善之处，因为模型训练时使用的语料一般是规范语言，在规范语言中若"音乐"和"视频"是并列关系，那么它们两个之间应该用顿号分隔而不是连在一起。
