---
layout: post
tags: 机器学习
---

推荐算法从一定程度上可以看作是ranking问题, 特别是在移动设备的应用场景下, 毕竟即使选出了topN个最优的推荐结果, 在展示时还不一定可以全部一次曝光出来, 因此这时候这topN个推荐结果之间的排序就显得很重要。

这种情况下, 传统topN推荐的评价指标, 比如召回率、准确率, 就不能很准确地反映算法效果了, 因为以上两个评价指标都没有考虑到topN个物品内部的顺序。

于是就用到Kendall tau的秩相关性检验了。Kendall tau检验的是两个有序随机变量的相关性。假设对随机变量$$X, Y$$, 共有$$n$$次观测数据$$(X_1, Y_1), ..., (X_n, Y_n)$$, 这n次观测数据一共可以比较$$C_n^2$$次, 即任意的$$(X_i, Y_i)$$和$$(X_j, Y_j)$$对比, 看符号是否一致。最后将Kendall tau统计量定义为$$\frac{一致对个数 - 不一致对个数}{C_n^2}$$, Kendall tau值越大表示这两个有序随机变量的相关性越强, 即由X得到的顺序和由Y得到的顺序是完全相同的。

这个思想应用在推荐算法中, X和Y分别对应用户对物品的真实偏好和由推荐算法预测出来的偏好。最理想的状态是推荐算法预测出来的偏好得到的顺序和真实偏好的顺序是一致的, 这时候Kendall tau的值则为1, 因此推荐算法的目标是使Kendall tau值最大程度地接近于1.

